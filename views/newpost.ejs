<%- include('partials/header.ejs') %>


  <div class="container">
    <form action="/submit" method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="name">Title</label>
        <input id="name" name="name" type="text" required>
      </div>
      <div class="form-group">
        <label for="image">Image:</label>
        <input type="file" id="image" name="image" accept="image/*" required>
      </div>
      <div class="form-group">
        <label>Blog</label>
        <div id="editor"></div>
        <input type="hidden" name="blog" id="blog">
      </div>
      <button type="submit">Submit Form</button>
      <button type="button" id="resetForm">Reset to Initial Data</button>
    </form>
  </div>
  







<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
<script>
  const initialData = {
    name: 'MR.Fathy',
    location: 'Earth',
    about: [
      {
        insert:
          'I am web developer \n',
      },
    ],
  };

  // Initialize Quill editor
  const quill = new Quill('#editor', {
    modules: {
      toolbar: [
        ['bold', 'italic'],
        ['link', 'blockquote', 'code-block', 'image'],
        [{ list: 'ordered' }, { list: 'bullet' }],
      ],
    },
    theme: 'snow',
  });

  // Reset form with initial data
  const resetForm = () => {
    document.querySelector('[name="name"]').value = initialData.name;
    quill.setContents(initialData.about);
  };

  resetForm();

  // Capture form submission
  const form = document.querySelector('form');
  form.addEventListener('submit', () => {
    // Get the HTML content from Quill
    const blogHTML = quill.root.innerHTML;
    
    // Set the hidden input value to the HTML content
    document.getElementById('blog').value = blogHTML;
  });

  // Reset form on button click
  document.querySelector('#resetForm').addEventListener('click', () => {
    resetForm();
  });
</script>






<%- include('partials/footer.ejs') %>

